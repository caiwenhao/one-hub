---
title: "Videos"
description: "通过 OneHub 代理调用 OpenAI Sora 视频接口，管理生成任务与素材。"
---

> 规范参考：
> - 创建：`#/paths/~1v1~1videos/post`
> - 查询/删除：`#/paths/~1v1~1videos~1{id}/get`
> - 下载：`#/paths/~1v1~1videos~1{id}~1content/get`
> - Remix：`#/paths/~1v1~1videos~1{id}~1remix/post`

## 创建视频任务

<Tabs>
<Tab title="cURL">
  ```bash
  curl -X POST "$ONEHUB_BASE_URL/v1/videos" \
    -H "Authorization: Bearer $ONEHUB_TOKEN" \
    -H "Content-Type: application/json" \
    -d '{
      "model": "sora-2",
      "prompt": "一个无人机从海滩升空拍摄夕阳",
      "seconds": 8,
      "size": "1280x720"
    }'
  ```
</Tab>

<Tab title="Python">
  ```python
  import os
  import requests

  base_url = os.environ.get("ONEHUB_BASE_URL", "https://onehub.example.com")
  token = os.environ["ONEHUB_TOKEN"]

  payload = {
      "model": "sora-2",
      "prompt": "一个无人机从海滩升空拍摄夕阳",
      "seconds": 8,
      "size": "1280x720",
  }

  resp = requests.post(
      f"{base_url}/v1/videos",
      headers={"Authorization": f"Bearer {token}"},
      json=payload,
      timeout=60,
  )
  resp.raise_for_status()
  job = resp.json()
  print(job["id"], job["status"])
  ```
</Tab>
</Tabs>

## 查询与删除

<Tabs>
<Tab title="cURL">
  ```bash
  curl "$ONEHUB_BASE_URL/v1/videos/$VIDEO_ID" \
    -H "Authorization: Bearer $ONEHUB_TOKEN"

  curl -X DELETE "$ONEHUB_BASE_URL/v1/videos/$VIDEO_ID" \
    -H "Authorization: Bearer $ONEHUB_TOKEN"
  ```
</Tab>

<Tab title="Python">
  ```python
  import os
  import requests

  base_url = os.environ.get("ONEHUB_BASE_URL", "https://onehub.example.com")
  token = os.environ["ONEHUB_TOKEN"]

  video_id = "vid_123"

  status_resp = requests.get(
      f"{base_url}/v1/videos/{video_id}",
      headers={"Authorization": f"Bearer {token}"},
      timeout=15,
  )
  status_resp.raise_for_status()
  print(status_resp.json()["status"])

  # 删除示例
  # delete_resp = requests.delete(
  #     f"{base_url}/v1/videos/{video_id}",
  #     headers={"Authorization": f"Bearer {token}"},
  #     timeout=15,
  # )
  # delete_resp.raise_for_status()
  ```
</Tab>
</Tabs>

## 下载与 Remix

<Tabs>
<Tab title="cURL">
  ```bash
  curl -L "$ONEHUB_BASE_URL/v1/videos/$VIDEO_ID/content" \
    -H "Authorization: Bearer $ONEHUB_TOKEN" \
    --output "$VIDEO_ID.mp4"

  curl -X POST "$ONEHUB_BASE_URL/v1/videos/$VIDEO_ID/remix" \
    -H "Authorization: Bearer $ONEHUB_TOKEN" \
    -H "Content-Type: application/json" \
    -d '{"prompt": "在结尾添加品牌 Logo"}'
  ```
</Tab>

<Tab title="Python">
  ```python
  import os
  import requests

  base_url = os.environ.get("ONEHUB_BASE_URL", "https://onehub.example.com")
  token = os.environ["ONEHUB_TOKEN"]
  video_id = "vid_123"

  content = requests.get(
      f"{base_url}/v1/videos/{video_id}/content",
      headers={"Authorization": f"Bearer {token}"},
      timeout=120,
  )
  content.raise_for_status()
  with open(f"{video_id}.mp4", "wb") as f:
      f.write(content.content)

  remix = requests.post(
      f"{base_url}/v1/videos/{video_id}/remix",
      headers={"Authorization": f"Bearer {token}"},
      json={"prompt": "在结尾添加品牌 Logo"},
      timeout=30,
  )
  remix.raise_for_status()
  print(remix.json()["status"])
  ```
</Tab>
</Tabs>

<Callout type="info">
  OneHub 会对不同供应商的返回结构进行统一封装，`status` 字段取值为 `queued`、`processing`、`succeeded`、`failed` 等；`assets` 数组中包含各个质量/角度的素材链接。
</Callout>
