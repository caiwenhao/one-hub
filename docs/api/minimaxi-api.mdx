---
title: "MiniMaxi API"
description: "基于 OneHub 的 MiniMaxi 视频接口（来自 minimaxi-openapi.yaml）"
---

> 本页对应规范：`/apifox/minimaxi-openapi.yaml`。

本平台提供 MiniMaxi 视频生成相关能力的统一代理。接口与官方保持一致，并对部分上游响应做字段对齐与状态映射，便于统一接入与兼容。

## 常用入口

<CardGroup cols={2}>
  <Card title="创建视频任务" icon="film" href="#/paths/~1minimaxi~1v1~1video_generation/post">
    文/图/主体/首尾帧视频生成，自动根据请求体识别模式。
  </Card>
  <Card title="查询任务状态" icon="clock" href="#/paths/~1minimaxi~1v1~1query~1video_generation/get">
    通过 `task_id` 查询任务执行进度与结果。
  </Card>
</CardGroup>

<Note>
  认证方式：在 Playground 认证栏填写 `Bearer <你的 OneHub Token>`。
</Note>

## 接入概览

- **基地址**：`https://onehub.example.com`（可替换为你的 OneHub 私有部署域名）。
- **认证头**：所有请求均需 `Authorization: Bearer <OneHub Token>`。
- **路径兼容**：既支持官方的 `minimaxi/v1/*` 路由，也提供 `/v1/*` 的 OpenAI 兼容别名，两者指向同一后端能力。

推荐先在终端设置环境变量，避免多处重复填写：

```bash
export ONEHUB_BASE_URL="https://onehub.example.com"
export ONEHUB_TOKEN="oh-xxxxxxxxxxxxxxxx"
```

> 💡 **提示**：如果你通过 Mintlify Playground 调试，可在页面右上角的 `Server` 中替换为自己的域名，并在 `Headers` 添加 `Authorization`。

## API 分组与示例

MiniMaxi 能力覆盖视频、语音、文本与文件等多个方向，以下按照常见场景分组展示。每个接口均给出 cURL 与 Python 样例，方便快速验证。

### 视频生成与管理

#### 创建视频任务 — `POST /minimaxi/v1/video_generation`

（等价别名：`POST /v1/video_generation`）根据不同入参自动识别文生、图生、首尾帧或主体参考模式。

<Tabs>
<Tab title="cURL">
  ```bash
  curl -X POST "$ONEHUB_BASE_URL/minimaxi/v1/video_generation" \
    -H "Authorization: Bearer $ONEHUB_TOKEN" \
    -H "Content-Type: application/json" \
    -d '{
      "model": "MiniMax-Hailuo-02",
      "prompt": "cinematic drone shot over a sunset beach",
      "duration": 10,
      "resolution": "1080P",
      "callback_url": "https://example.com/webhooks/minimaxi"
    }'
  ```
</Tab>

<Tab title="Python">
  ```python
  import os
  import requests

  base_url = os.environ.get("ONEHUB_BASE_URL", "https://onehub.example.com")
  token = os.environ["ONEHUB_TOKEN"]

  payload = {
      "model": "MiniMax-Hailuo-02",
      "prompt": "cinematic drone shot over a sunset beach",
      "duration": 10,
      "resolution": "1080P",
      "callback_url": "https://example.com/webhooks/minimaxi",
  }

  resp = requests.post(
      f"{base_url}/minimaxi/v1/video_generation",
      headers={"Authorization": f"Bearer {token}"},
      json=payload,
      timeout=60,
  )
  resp.raise_for_status()
  job = resp.json()
  print(job["task_id"], job.get("status"))
  ```
</Tab>
</Tabs>

#### 查询视频任务 — `GET /minimaxi/v1/query/video_generation`

（等价别名：`GET /v1/query/video_generation`）只需 `task_id` 即可获取状态及下载信息。

<Tabs>
<Tab title="cURL">
  ```bash
  curl "$ONEHUB_BASE_URL/minimaxi/v1/query/video_generation?task_id=$TASK_ID" \
    -H "Authorization: Bearer $ONEHUB_TOKEN"
  ```
</Tab>

<Tab title="Python">
  ```python
  import os
  import requests

  base_url = os.environ.get("ONEHUB_BASE_URL", "https://onehub.example.com")
  token = os.environ["ONEHUB_TOKEN"]

  params = {"task_id": "task-123"}
  resp = requests.get(
      f"{base_url}/minimaxi/v1/query/video_generation",
      headers={"Authorization": f"Bearer {token}"},
      params=params,
      timeout=15,
  )
  resp.raise_for_status()
  print(resp.json()["task_status"])
  ```
</Tab>
</Tabs>

#### 下载生成文件 — `GET /minimaxi/v1/files/retrieve_content`

（等价别名：`GET /v1/files/retrieve_content`）配合 `files/retrieve` 获取到的 `file_id` 使用，可选 `channel_id`、`task_id` 指定渠道。

<Tabs>
<Tab title="cURL">
  ```bash
  curl -L "$ONEHUB_BASE_URL/minimaxi/v1/files/retrieve_content?file_id=$FILE_ID" \
    -H "Authorization: Bearer $ONEHUB_TOKEN" \
    --output "$FILE_ID.bin"
  ```
</Tab>

<Tab title="Python">
  ```python
  import os
  import requests

  base_url = os.environ.get("ONEHUB_BASE_URL", "https://onehub.example.com")
  token = os.environ["ONEHUB_TOKEN"]

  resp = requests.get(
      f"{base_url}/minimaxi/v1/files/retrieve_content",
      headers={"Authorization": f"Bearer {token}"},
      params={"file_id": "file-abc"},
      timeout=120,
  )
  resp.raise_for_status()
  with open("file-abc.mp4", "wb") as f:
      f.write(resp.content)
  ```
</Tab>
</Tabs>

若只需获取下载地址或元数据，可先调用 `GET /minimaxi/v1/files/retrieve`，返回内容兼容官方字段。

### 文本与聊天生成

#### OpenAI 兼容聊天 — `POST /v1/chat/completions`

MiniMax 专属模型（如 `MiniMax-M1`）通过兼容接口即可调用。

<Tabs>
<Tab title="cURL">
  ```bash
  curl -X POST "$ONEHUB_BASE_URL/v1/chat/completions" \
    -H "Authorization: Bearer $ONEHUB_TOKEN" \
    -H "Content-Type: application/json" \
    -d '{
      "model": "MiniMax-M1",
      "messages": [
        {"role": "system", "content": "你是 MiniMax 的中文写作助手。"},
        {"role": "user", "content": "帮我写一段产品更新公告。"}
      ]
    }'
  ```
</Tab>

<Tab title="Python">
  ```python
  import os
  import requests

  base_url = os.environ.get("ONEHUB_BASE_URL", "https://onehub.example.com")
  token = os.environ["ONEHUB_TOKEN"]

  payload = {
      "model": "MiniMax-M1",
      "messages": [
          {"role": "system", "content": "你是 MiniMax 的中文写作助手。"},
          {"role": "user", "content": "帮我写一段产品更新公告。"},
      ],
  }

  resp = requests.post(
      f"{base_url}/v1/chat/completions",
      headers={"Authorization": f"Bearer {token}"},
      json=payload,
      timeout=30,
  )
  resp.raise_for_status()
  print(resp.json()["choices"][0]["message"]["content"])
  ```
</Tab>
</Tabs>

### 语音合成与查询

#### 同步文本转语音 — `POST /minimaxi/v1/t2a_v2`

（等价别名：暂不提供）适合快速获取短音频，支持自定义音色与音频参数。

<Tabs>
<Tab title="cURL">
  ```bash
  curl -X POST "$ONEHUB_BASE_URL/minimaxi/v1/t2a_v2" \
    -H "Authorization: Bearer $ONEHUB_TOKEN" \
    -H "Content-Type: application/json" \
    -d '{
      "model": "speech-2.5-hd-preview",
      "text": "你好，欢迎来到 OneHub",
      "voice_setting": {"voice_id": "moss_audio_ce44fc67-7ce3-11f0-8de5-96e35d26fb85", "speed": 1},
      "audio_setting": {"format": "mp3", "sample_rate": 32000, "channel": 1}
    }' \
    --output minimaxi-tts.mp3
  ```
</Tab>

<Tab title="Python">
  ```python
  import os
  import requests

  base_url = os.environ.get("ONEHUB_BASE_URL", "https://onehub.example.com")
  token = os.environ["ONEHUB_TOKEN"]

  payload = {
      "model": "speech-2.5-hd-preview",
      "text": "你好，欢迎来到 OneHub",
      "voice_setting": {
          "voice_id": "moss_audio_ce44fc67-7ce3-11f0-8de5-96e35d26fb85",
          "speed": 1,
      },
      "audio_setting": {"format": "mp3", "sample_rate": 32000, "channel": 1},
  }

  resp = requests.post(
      f"{base_url}/minimaxi/v1/t2a_v2",
      headers={"Authorization": f"Bearer {token}"},
      json=payload,
      timeout=60,
  )
  resp.raise_for_status()
  with open("minimaxi-tts.mp3", "wb") as f:
      f.write(resp.content)
  ```
</Tab>
</Tabs>

#### 创建异步文本转语音任务 — `POST /minimaxi/v1/t2a_async_v2`

用于处理长文本或批量请求，生成任务后通过查询接口获取结果。

<Tabs>
<Tab title="cURL">
  ```bash
  curl -X POST "$ONEHUB_BASE_URL/minimaxi/v1/t2a_async_v2" \
    -H "Authorization: Bearer $ONEHUB_TOKEN" \
    -H "Content-Type: application/json" \
    -d '{
      "model": "speech-2.5-hd-preview",
      "text": "真正的危险不是计算机像人一样思考，而是人像计算机一样思考。",
      "voice_setting": {"voice_id": "moss_audio_ce44fc67-7ce3-11f0-8de5-96e35d26fb85"},
      "audio_setting": {"format": "mp3", "audio_sample_rate": 32000}
    }'
  ```
</Tab>

<Tab title="Python">
  ```python
  import os
  import requests

  base_url = os.environ.get("ONEHUB_BASE_URL", "https://onehub.example.com")
  token = os.environ["ONEHUB_TOKEN"]

  payload = {
      "model": "speech-2.5-hd-preview",
      "text": "真正的危险不是计算机像人一样思考，而是人像计算机一样思考。",
      "voice_setting": {"voice_id": "moss_audio_ce44fc67-7ce3-11f0-8de5-96e35d26fb85"},
      "audio_setting": {"format": "mp3", "audio_sample_rate": 32000},
  }

  resp = requests.post(
      f"{base_url}/minimaxi/v1/t2a_async_v2",
      headers={"Authorization": f"Bearer {token}"},
      json=payload,
      timeout=15,
  )
  resp.raise_for_status()
  task = resp.json()
  print(task["task_id"])
  ```
</Tab>
</Tabs>

#### 查询异步任务 — `GET /minimaxi/v1/query/t2a_async_query_v2`

可在必要时指定 `channel_id` 强制命中某一渠道。

<Tabs>
<Tab title="cURL">
  ```bash
  curl "$ONEHUB_BASE_URL/minimaxi/v1/query/t2a_async_query_v2?task_id=$TASK_ID" \
    -H "Authorization: Bearer $ONEHUB_TOKEN"
  ```
</Tab>

<Tab title="Python">
  ```python
  import os
  import requests

  base_url = os.environ.get("ONEHUB_BASE_URL", "https://onehub.example.com")
  token = os.environ["ONEHUB_TOKEN"]

  resp = requests.get(
      f"{base_url}/minimaxi/v1/query/t2a_async_query_v2",
      headers={"Authorization": f"Bearer {token}"},
      params={"task_id": "task-tts-001"},
      timeout=15,
  )
  resp.raise_for_status()
  print(resp.json()["task_status"])
  ```
</Tab>
</Tabs>

#### OpenAI 兼容文本转语音 — `POST /v1/audio/speech`

如果你已有 OpenAI SDK 或客户端配置，可直接替换 Base URL 即调用 MiniMaxi 渠道。

<Tabs>
<Tab title="cURL">
  ```bash
  curl -X POST "$ONEHUB_BASE_URL/v1/audio/speech" \
    -H "Authorization: Bearer $ONEHUB_TOKEN" \
    -H "Content-Type: application/json" \
    -d '{
      "model": "speech-02-turbo",
      "voice": "alloy",
      "input": "请为 OneHub 生成一个欢迎语"
    }' \
    --output openai-compatible.mp3
  ```
</Tab>

<Tab title="Python">
  ```python
  import os
  import requests

  base_url = os.environ.get("ONEHUB_BASE_URL", "https://onehub.example.com")
  token = os.environ["ONEHUB_TOKEN"]

  resp = requests.post(
      f"{base_url}/v1/audio/speech",
      headers={"Authorization": f"Bearer {token}"},
      json={"model": "speech-02-turbo", "voice": "alloy", "input": "请为 OneHub 生成一个欢迎语"},
      timeout=60,
  )
  resp.raise_for_status()
  with open("openai-compatible.mp3", "wb") as f:
      f.write(resp.content)
  ```
</Tab>
</Tabs>

### 文件元数据查询 — `GET /minimaxi/v1/files/retrieve`

若想获取文件大小、过期时间等元信息，可先查询文件详情再决定是否拉取内容。

<Tabs>
<Tab title="cURL">
  ```bash
  curl "$ONEHUB_BASE_URL/minimaxi/v1/files/retrieve?file_id=$FILE_ID" \
    -H "Authorization: Bearer $ONEHUB_TOKEN"
  ```
</Tab>

<Tab title="Python">
  ```python
  import os
  import requests

  base_url = os.environ.get("ONEHUB_BASE_URL", "https://onehub.example.com")
  token = os.environ["ONEHUB_TOKEN"]

  resp = requests.get(
      f"{base_url}/minimaxi/v1/files/retrieve",
      headers={"Authorization": f"Bearer {token}"},
      params={"file_id": "file-abc"},
      timeout=10,
  )
  resp.raise_for_status()
  print(resp.json()["data"])
  ```
</Tab>
</Tabs>

> ✅ **小结**：MiniMaxi 路由全面复用 OneHub 的安全与计费体系。只要切换 Base URL 与 Token，即可在原生 OpenAI SDK、cURL 或 Python `requests` 中完成调试与对接。
