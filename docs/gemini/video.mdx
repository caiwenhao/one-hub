---
title: "视频（OpenAI 风格）"
description: "使用 OpenAI 标准接口 /v1/videos 进行 Veo 视频生成与任务查询。"
openapi: 'POST /v1/videos'
---

本文档使用统一的 OpenAI 风格接口，不涉及任何上游供应商信息。你可以直接用 Bearer Token 调用 `/v1/videos` 创建任务，并用 `/v1/videos/{id}` 查询进度、`/v1/videos/{id}/content` 下载成片。

## 认证

- `Authorization: Bearer <Token>`

```bash
export BASE_URL="https://models.kapon.cloud/v1"
export TOKEN="oh-xxxxxxxxxxxxxxxx"
```

## 可用模型

- `veo-3.1-fast-generate-preview`（快速出片）
- `veo-3.1-generate-preview`（标准质量）

> 后续如有新增型号，可在“可用模型”接口或控制台查看，无需改动调用方式。

## 文生视频（JSON）

注意：`seconds` 需以字符串提交（JSON 标签为 `,string`）。

```bash
curl -X POST "$BASE_URL/videos" \
  -H "Authorization: Bearer $TOKEN" \
  -H "Content-Type: application/json" \
  -d '{
    "model": "veo-3.1-fast-generate-preview",
    "prompt": "a cinematic lion at sunset",
    "seconds": "6",
    "size": "1280x720"
  }'
```

成功时返回：

```json
{
  "id": "video_xxx",
  "object": "video",
  "model": "veo-3.1-fast-generate-preview",
  "status": "queued",
  "progress": 0,
  "created_at": 1761234567,
  "seconds": "6",
  "size": "1280x720"
}
```

## 图生视频（multipart）

通过 `input_reference` 字段上传 1–3 张参考图（可重复多次）：

```bash
curl -X POST "$BASE_URL/videos" \
  -H "Authorization: Bearer $TOKEN" \
  -F "model=veo-3.1-fast-generate-preview" \
  -F "prompt=Neon rain street, cinematic" \
  -F "seconds=6" \
  -F "size=1280x720" \
  -F "input_reference=@tmp/veo_refs/ref1_1280x720.jpg" \
  -F "input_reference=@tmp/veo_refs/ref2_720x1280.jpg"
```

## 查询任务

```bash
curl "$BASE_URL/videos/{video_id}" \
  -H "Authorization: Bearer $TOKEN"
```

完成后响应会包含直链：`video_url`（或 `result.video_url`）。

## 下载视频

```bash
curl -L "$BASE_URL/videos/{video_id}/content" \
  -H "Authorization: Bearer $TOKEN" \
  --output out.mp4
```

<Callout type="info">
  网关会统一代理视频直链，保证下载稳定性与安全性；无需关心实际存储来源。
</Callout>

## API 调试面板（可直接试用）

本页已嵌入 `POST /v1/videos` 的调试面板（见页首）。你可以：

- 选择模型与参数，发起创建请求；
- 复制返回的 `id`，再用 cURL 调用查询/下载接口；
- 若你使用 SDK，也可直接复用同样的请求体结构。

## 参数说明

- `model`：视频生成模型（必填）
- `prompt`：文本提示词（建议英文或中英混合）
- `seconds`：视频时长（秒，JSON 需以字符串提交）
- `size`：分辨率（如 `1280x720`、`720x1280`、`1920x1080`、`1080x1920`）
- `input_reference`：参考图（multipart 下可重复 1–3 次）
- `extend_from`：基于历史成片续写（部分型号/时长可能受限）

## 最佳实践

- 1080p 场景建议配合 8 秒时长；其余尺寸常用 4/6/8 秒。
- 图生视频优先提供与目标画幅一致的参考图（横版/竖版）。
- 轮询查询时使用 6–10 秒退避，避免过于频繁的请求。

## 计费

按视频时长（秒）计费。若响应无法解析到时长，可在查询时追加 `?duration=6` 明确计费秒数。
